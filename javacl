#!/bin/sh
# Simple wrapper to run Java 8 javac via OpenLDK.
# Uses the installed JDK tools.jar plus any user-supplied CLASSPATH.

JAVA_HOME=${JAVA_HOME:-/usr/lib/jvm/temurin-8-jdk/jre}
TOOLS_JAR=${TOOLS_JAR:-/usr/lib/jvm/temurin-8-jdk/lib/tools.jar}

# Preserve caller CLASSPATH while prepending tools.jar
if [ -n "${CLASSPATH}" ]; then
  CLASSPATH="${TOOLS_JAR}:${CLASSPATH}"
else
  CLASSPATH="${TOOLS_JAR}"
fi

export JAVA_HOME CLASSPATH

exec ~/git/openldk/CLEAN-openldk/openldk/openldk com.sun.tools.javac.Main "$@"
